package gnofundme

import (
	"testing"
	"time"

	"gno.land/r/demo/users"
)

func TestNewContributor(t *testing.T) {
	user := users.GetUserByName("demo")
	amount := int64(500)
	display := true
	date := time.Unix(time.Now().Unix(), 0)
	contributor := NewContributor(user, date, amount, display)

	if contributor.GetUser() != user {
		t.Errorf("Expected contributor user to be %s, got %s", user, contributor.GetUser())
	}

	if contributor.Date.IsZero() {
		t.Error("Expected contributor date to be non-zero")
	}

	if contributor.Amount != amount {
		t.Errorf("Expected contributor amount to be %d, got %d", amount, contributor.Amount)
	}

	if contributor.GetDisplay() != display {
		t.Errorf("Expected contributor display to be %t, got %t", display, contributor.GetDisplay())
	}
	js := contributor.String()
	println(js)
}
